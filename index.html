<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-M8JQJS1HWJ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-M8JQJS1HWJ');
  </script>
  
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  
  <!-- Primary SEO Meta Tags -->
  <title>Dare to Drop 100 Floors? | Free Falling Game - DownDownDown</title>
  <meta name="description" content="Think you can survive 100 floors? Play DownDownDown, the addictive free online falling game. No download required. Dodge spikes and survive in this arcade survival platformer.">
  <meta name="keywords" content="free falling game, arcade survival game, free online game, no download game, falling platformer, browser game, dodge game, drop down game, casual arcade">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://downdowndown.live/">
  <meta property="og:title" content="Dare to Drop 100 Floors? | Free Falling Game - DownDownDown">
  <meta property="og:description" content="Think you can survive 100 floors? Play DownDownDown, the addictive free online falling game. No download required. Dodge spikes and survive in this arcade survival platformer.">
  <meta property="og:image" content="https://downdowndown.live/og-image.jpg">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://downdowndown.live/">
  <meta property="twitter:title" content="Dare to Drop 100 Floors? | Free Falling Game - DownDownDown">
  <meta property="twitter:description" content="Think you can survive 100 floors? Play DownDownDown, the addictive free online falling game. No download required. Dodge spikes and survive in this arcade survival platformer.">
  <meta property="twitter:image" content="https://downdowndown.live/og-image.jpg">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://downdowndown.live/">
  
  <!-- Favicons -->
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="48x48" href="favicon-48x48.png">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3293976111230987"
     crossorigin="anonymous"></script>
  
  <!-- JSON-LD Schema for Game -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "VideoGame",
    "name": "DownDownDown",
    "description": "A fast-paced free online falling game where players dodge spikes and drop down 100 floors. No download required. Classic arcade survival gameplay.",
    "url": "https://downdowndown.live/",
    "genre": ["Arcade", "Survival", "Platformer", "Falling Game"],
    "gamePlatform": ["Web Browser", "Desktop", "Mobile"],
    "playMode": "SinglePlayer",
    "applicationCategory": "Game",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD",
      "availability": "https://schema.org/InStock"
    },
    "keywords": "free falling game, arcade survival, browser game, no download game"
  }
  </script>
  
  <!-- FAQ Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "Is DownDownDown free to play?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes, DownDownDown is completely free to play. No registration, no download, and no hidden fees. Just open your browser and start playing this arcade platform game instantly."
        }
      },
      {
        "@type": "Question",
        "name": "Can I play this arcade game on mobile?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes! This vertical arcade platform game works perfectly on mobile devices. The game features touch controls optimized for smartphones and tablets, as well as keyboard controls for desktop players."
        }
      },
      {
        "@type": "Question",
        "name": "What kind of arcade game is DownDownDown?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "DownDownDown is a vertical falling platform game inspired by classic arcade survival mechanics. Players must navigate through endlessly falling platforms, avoiding obstacles and surviving as long as possible."
        }
      },
      {
        "@type": "Question",
        "name": "Do I need to download this game?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "No download required! DownDownDown is a browser-based arcade platform game that runs directly in your web browser. Simply visit the website and click play to start immediately."
        }
      }
    ]
  }
  </script>
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html {
      height: 100%;
    }
    
    /* CSS Variables for Theme */
    :root {
      /* Dark Theme (Default) */
      --bg-primary: #1a1f2e;
      --bg-secondary: rgba(30, 30, 50, 0.5);
      --bg-card: rgba(30, 30, 50, 0.5);
      --bg-game: #2a3041;
      --text-primary: #e0e6ed;
      --text-secondary: #c5cdd8;
      --text-muted: #8b95a5;
      --text-footer: #8892a0;
      --border-color: rgba(255, 255, 255, 0.08);
      --border-game: #3d4556;
      --accent-color: #3b82f6;
      --accent-hover: #2563eb;
      --button-bg: #3b82f6;
      --button-text: #ffffff;
      --shadow: rgba(0, 0, 0, 0.3);
      --shadow-hover: rgba(0, 0, 0, 0.4);
      --game-overlay: rgba(15, 15, 35, 0.4);
    }
    
    /* Light Theme */
    body.light-theme {
      --bg-primary: #f5f7fa;
      --bg-secondary: rgba(255, 255, 255, 0.9);
      --bg-card: rgba(255, 255, 255, 0.95);
      --bg-game: #ffffff;
      --text-primary: #1a1f2e;
      --text-secondary: #3d4451;
      --text-muted: #6b7280;
      --text-footer: #6b7280;
      --border-color: rgba(0, 0, 0, 0.08);
      --border-game: #d1d5db;
      --accent-color: #2563eb;
      --accent-hover: #1d4ed8;
      --button-bg: #2563eb;
      --button-text: #ffffff;
      --shadow: rgba(0, 0, 0, 0.1);
      --shadow-hover: rgba(0, 0, 0, 0.15);
      --game-overlay: rgba(255, 255, 255, 0.5);
    }
    
    /* Light theme button adjustments */
    body.light-theme .cta-button-wrapper::before {
      border-color: #60a5fa;
    }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      background: var(--bg-primary);
      min-height: 100vh;
      color: var(--text-primary);
      line-height: 1.6;
      zoom: 0.72;
      transition: background-color 0.3s ease, color 0.3s ease;
      /* 125% * 0.72 = 90%ÔºåÊúÄ‰Ω≥ÊòæÁ§∫ÊïàÊûú */
    }
    
    /* Theme Toggle Button */
    .theme-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: 50px;
      padding: 10px 18px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      color: var(--text-primary);
      box-shadow: 0 2px 8px var(--shadow);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .theme-toggle:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px var(--shadow);
    }
    
    .theme-toggle-icon {
      font-size: 18px;
      display: inline-block;
      transition: transform 0.3s ease;
    }
    
    .theme-toggle:hover .theme-toggle-icon {
      transform: rotate(15deg);
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    /* Logo */
    .site-logo {
      max-width: 350px;
      width: 100%;
      height: auto;
      margin: 0 auto 20px;
      display: block;
      filter: drop-shadow(0 4px 12px var(--shadow));
      transition: transform 0.3s ease, filter 0.3s ease;
    }
    
    .site-logo:hover {
      transform: translateY(-2px);
      filter: drop-shadow(0 6px 16px var(--shadow));
    }
    
    /* Hero Section */
    .hero-section {
      text-align: center;
      padding: 20px 20px 15px;
      max-width: 800px;
      margin: 0 auto;
    }
    
    h1 {
      font-size: clamp(28px, 4vw, 36px);
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 12px;
      letter-spacing: -0.3px;
      line-height: 1.2;
    }
    
    /* Display h1 below logo */
    .hero-section h1.with-logo {
      /* Remove hidden styles, make it visible */
      margin-top: 10px;
      font-size: clamp(20px, 3.5vw, 28px);
      font-weight: 600;
      line-height: 1.3;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }
    
    .hero-text {
      font-size: 15px;
      color: var(--text-secondary);
      margin-bottom: 16px;
      line-height: 1.6;
    }
    
    .hero-description {
      font-size: 14px;
      color: var(--text-muted);
      margin-bottom: 20px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    
    .cta-button {
      position: relative;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      padding: 16px 40px;
      background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 50%, #2563eb 100%);
      color: #ffffff;
      text-decoration: none;
      border-radius: 12px;
      font-weight: 700;
      font-size: 18px;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      border: none;
      cursor: pointer;
      box-shadow: 
        0 4px 0 0 #1e40af,
        0 8px 20px rgba(37, 99, 235, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
      transition: all 0.15s ease;
      overflow: hidden;
      z-index: 1;
    }
    
    /* Shine effect */
    .cta-button::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(
        45deg,
        transparent 30%,
        rgba(255, 255, 255, 0.3) 50%,
        transparent 70%
      );
      transform: translateX(-100%) translateY(-100%) rotate(45deg);
      transition: transform 0.6s;
    }
    
    .cta-button:hover::before {
      transform: translateX(100%) translateY(100%) rotate(45deg);
    }
    
    .cta-button:hover {
      transform: translateY(-2px);
      box-shadow: 
        0 6px 0 0 #1e40af,
        0 12px 28px rgba(37, 99, 235, 0.5),
        inset 0 1px 0 rgba(255, 255, 255, 0.4);
    }
    
    .cta-button:active {
      transform: translateY(2px);
      box-shadow: 
        0 2px 0 0 #1e40af,
        0 4px 12px rgba(37, 99, 235, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
    }
    
    /* Arrow icon animation */
    .cta-button-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 24px;
      height: 24px;
      animation: bounce-down 1.5s ease-in-out infinite;
    }
    
    @keyframes bounce-down {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(4px);
      }
    }
    
    .cta-button:hover .cta-button-icon {
      animation: bounce-down-fast 0.6s ease-in-out infinite;
    }
    
    @keyframes bounce-down-fast {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(6px);
      }
    }
    
    /* Pulse ring effect */
    .cta-button-wrapper {
      position: relative;
      display: inline-block;
    }
    
    .cta-button-wrapper::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 100%;
      height: 100%;
      border: 2px solid #3b82f6;
      border-radius: 12px;
      transform: translate(-50%, -50%);
      animation: pulse-ring 2s ease-out infinite;
      opacity: 0;
    }
    
    @keyframes pulse-ring {
      0% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 0.8;
      }
      100% {
        transform: translate(-50%, -50%) scale(1.3);
        opacity: 0;
      }
    }
    
    /* Game Container - Three Column Layout */
    .game-container {
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      gap: 30px;
      max-width: 1200px;
      margin: 0 auto 30px;
      padding: 20px 20px 0;
      scroll-margin-top: 0;
      align-items: start;
      /* Á≤æÁ°ÆÂÆö‰ΩçÂà∞ÂÆπÂô®È°∂ÈÉ® */
    }
    
    /* Game Controls Info Cards */
    .game-controls-card {
      background: var(--bg-game);
      border: 1px solid var(--border-game);
      border-radius: 12px;
      padding: 20px;
      transition: all 0.3s ease;
    }
    
    .game-controls-card h3 {
      color: var(--accent-color);
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .control-item {
      margin-bottom: 14px;
      padding-bottom: 14px;
      border-bottom: 1px solid var(--border-color);
    }
    
    .control-item:last-child {
      margin-bottom: 0;
      padding-bottom: 0;
      border-bottom: none;
    }
    
    .control-label {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 6px;
    }
    
    .control-icon {
      background: var(--accent-color);
      color: white;
      width: 32px;
      height: 32px;
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 14px;
      flex-shrink: 0;
    }
    
    .control-key {
      color: var(--text-primary);
      font-weight: 600;
      font-size: 14px;
    }
    
    .control-desc {
      color: var(--text-muted);
      font-size: 13px;
      line-height: 1.4;
      padding-left: 42px;
    }
    
    .game-center {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    
    /* Mobile Touch Hint */
    .mobile-touch-hint {
      display: none; /* Hidden on desktop */
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(37, 99, 235, 0.15));
      border: 1px solid rgba(59, 130, 246, 0.3);
      border-radius: 8px;
      padding: 6px 12px;
      margin-bottom: 8px;
      text-align: center;
      animation: pulseHint 2s ease-in-out infinite;
    }
    
    .touch-hint-content {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      font-size: 13px;
      color: var(--text-primary);
    }
    
    .touch-icon {
      font-size: 16px;
      animation: tapAnimation 1.5s ease-in-out infinite;
    }
    
    .touch-text {
      font-weight: 500;
    }
    
    @keyframes pulseHint {
      0%, 100% {
        background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(37, 99, 235, 0.15));
      }
      50% {
        background: linear-gradient(135deg, rgba(59, 130, 246, 0.25), rgba(37, 99, 235, 0.25));
      }
    }
    
    @keyframes tapAnimation {
      0%, 100% {
        transform: translateY(0) scale(1);
      }
      50% {
        transform: translateY(-3px) scale(1.1);
      }
    }
    
    #game-root {
      background: var(--bg-game);
      border: 1px solid var(--border-game);
      border-radius: 12px;
      box-shadow: 0 4px 12px var(--shadow);
      overflow: hidden;
      transition: all 0.3s ease;
      width: 100%;
      max-width: 580px;
      margin: 0 auto;
      /* Ê∏∏ÊàèÊîæÂ§ßÂà∞ÈÄÇÂêàÈ°µÈù¢ÁöÑÂ∞∫ÂØ∏ */
    }
    
    #game-root > * {
      transform-origin: top center;
    }
    
    #game-root:hover {
      box-shadow: 0 6px 20px var(--shadow-hover);
    }
    
    .game-description {
      background: var(--bg-game);
      border: 1px solid var(--border-game);
      border-radius: 8px;
      padding: 14px;
      color: var(--text-secondary);
      font-size: 13px;
      line-height: 1.5;
      transition: all 0.3s ease;
      margin-top: 12px;
    }
    
    /* Content Sections */
    .content-section {
      background: var(--bg-game);
      border: 1px solid var(--border-game);
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 20px;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
      margin-bottom: 20px;
      transition: all 0.3s ease;
    }
    
    .content-section h2 {
      font-size: 22px;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .content-section h2::before {
      content: '';
      display: inline-block;
      width: 3px;
      height: 22px;
      background: var(--accent-color);
      border-radius: 2px;
    }
    
    .content-section p {
      color: var(--text-secondary);
      font-size: 14px;
      line-height: 1.6;
      margin-bottom: 12px;
    }
    
    .content-section ul, .content-section ol {
      color: var(--text-secondary);
      font-size: 14px;
      line-height: 1.6;
      padding-left: 20px;
    }
    
    .content-section li {
      margin: 8px 0;
    }
    
    .content-section strong {
      color: var(--text-primary);
      font-weight: 600;
    }
    
    /* Features Grid */
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin: 20px 0;
    }
    
    .feature-item {
      background: var(--bg-secondary);
      border: 1px solid var(--border-game);
      border-radius: 8px;
      padding: 16px;
      transition: all 0.3s ease;
    }
    
    .feature-item:hover {
      background: var(--bg-card);
      border-color: var(--accent-color);
      transform: translateY(-2px);
    }
    
    .feature-item h3 {
      font-size: 15px;
      color: var(--accent-color);
      margin-bottom: 8px;
      font-weight: 600;
    }
    
    .feature-item p {
      font-size: 13px;
      color: var(--text-secondary);
      margin: 0;
      line-height: 1.5;
    }
    
    /* FAQ Section */
    .faq-item {
      background: var(--bg-secondary);
      border: 1px solid var(--border-game);
      border-radius: 8px;
      padding: 16px;
      margin-bottom: 12px;
      transition: all 0.3s ease;
    }
    
    .faq-item h3 {
      font-size: 15px;
      color: var(--text-primary);
      margin-bottom: 8px;
      font-weight: 600;
    }
    
    .faq-item p {
      font-size: 13px;
      color: var(--text-secondary);
      margin: 0;
      line-height: 1.6;
    }
    
    /* Footer */
    footer {
      text-align: center;
      padding: 30px 20px;
      color: var(--text-footer);
      font-size: 13px;
      border-top: 1px solid var(--border-game);
      margin-top: 40px;
      transition: all 0.3s ease;
    }
    
    footer a {
      color: var(--accent-color);
      text-decoration: none;
      font-weight: 500;
      transition: color 0.2s ease;
    }
    
    footer a:hover {
      color: var(--accent-hover);
      text-decoration: underline;
    }
    
    /* Loading */
    .loading {
      text-align: center;
      padding: 50px 30px;
      color: var(--text-primary);
      font-size: 16px;
      font-weight: 500;
    }
    
    .loading-spinner {
      border: 3px solid var(--border-color);
      border-top: 3px solid var(--accent-color);
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s cubic-bezier(0.4, 0, 0.2, 1) infinite;
      margin: 20px auto;
      box-shadow: 0 0 20px var(--shadow);
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* Responsive */
    @media (max-width: 1024px) {
      .game-container {
        grid-template-columns: 1fr;
        max-width: 700px;
      }
      
      .game-controls-card {
        display: none;
      }
    }
    
    @media (max-width: 768px) {
      body {
        zoom: 1.0;
        /* ÁßªÂä®Á´ØÂèñÊ∂àÁº©ÊîæÔºå100%ÊòæÁ§∫ */
      }
      
      .site-logo {
        max-width: 280px;
        margin-bottom: 15px;
      }
      
      .hero-section {
        padding: 15px;
      }
      
      .cta-button {
        padding: 14px 32px;
        font-size: 16px;
      }
      
      .game-container {
        max-width: 100%;
        padding: 20px 15px 0;
        grid-template-columns: 1fr;
        gap: 20px;
      }
      
      .game-controls-card {
        display: none;
      }
      
      /* Show mobile touch hint */
      .mobile-touch-hint {
        display: block;
      }
      
      #game-root {
        max-width: 100%;
        /* ÁßªÂä®Á´ØÊîæÂ§ßÊ∏∏ÊàèÂå∫Âüü */
        transform: scale(1.15);
        transform-origin: top center;
        margin-bottom: 30px;
      }
      
      .game-description {
        font-size: 12px;
      }
      
      .content-section {
        padding: 20px 16px;
      }
      
      .features-grid {
        grid-template-columns: 1fr;
      }
    }
    
    @media (max-width: 480px) {
      .site-logo {
        max-width: 240px;
        margin-bottom: 12px;
      }
      
      .game-container {
        padding: 20px 10px 0;
      }
      
      #game-root {
        border-radius: 8px;
        /* Â∞èÂ±èÊâãÊú∫Ëøõ‰∏ÄÊ≠•ÊîæÂ§ßÊ∏∏ÊàèÂå∫Âüü */
        transform: scale(1.08);
        margin-bottom: 40px;
      }
      
      h1 {
        font-size: 22px;
      }
      
      .hero-text {
        font-size: 14px;
      }
      
      .cta-button {
        padding: 12px 28px;
        font-size: 15px;
        gap: 8px;
      }
      
      .cta-button-icon {
        width: 20px;
        height: 20px;
      }
      
      .theme-toggle {
        top: 10px;
        right: 10px;
        padding: 8px 14px;
        font-size: 13px;
      }
    }
    
    @media (min-width: 1400px) {
      body {
        zoom: 0.76;
        /* Â§ßÂ±èÂπïÁ®çÂæÆÊîæÂ§ßÔºà125% * 0.76 = 95%Ôºâ*/
      }
      
      .game-container {
        max-width: 1400px;
      }
      
      #game-root {
        max-width: 640px;
      }
      
      .game-controls-card {
        max-width: 280px;
      }
    }
    
    @media (min-width: 1600px) {
      body {
        zoom: 0.8;
        /* Ë∂ÖÂ§ßÂ±èÂπïËøõ‰∏ÄÊ≠•ÊîæÂ§ßÔºà125% * 0.8 = 100%Ôºâ*/
      }
    }
    
    @media (max-height: 800px) {
      .hero-section {
        padding: 10px 15px;
      }
    }
    
    @media (max-height: 700px) {
      h1 {
        font-size: 24px;
        margin-bottom: 8px;
      }
      
      .hero-text {
        font-size: 13px;
        margin-bottom: 10px;
      }
      
      .hero-description {
        display: none;
      }
    }
  </style>
</head>
<body>
  <!-- Theme Toggle Button -->
  <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
    <span class="theme-toggle-icon">üåô</span>
    <span class="theme-toggle-text">Dark</span>
  </button>
  
  <div class="container">
    <!-- Hero Section -->
    <section class="hero-section">
      <!-- Logo -->
      <img src="logo.svg" alt="DownDownDown - Vertical Arcade Platform Game" class="site-logo">
      
      <!-- H1 hidden but kept for SEO -->
      <h1 class="with-logo">DownDownDown: Free Online Falling Game (Dare to Drop 100 Floors?)</h1>
      
      <p class="hero-text">
        <strong>Think you can survive 100 floors?</strong> This <strong>free online falling game</strong> is addictive - simple controls, <strong>no download required</strong>. Dare to try? Drop fast, react faster in this <strong>arcade survival platformer</strong>. Classic reflex-based gameplay - play instantly on any device.
      </p>
      <p class="hero-description">
        üéÆ Instant Play | üÜì Completely Free | üì± Cross-Platform | ‚ö° No Download
      </p>
      <div class="cta-button-wrapper">
        <button class="cta-button" onclick="(function(){const el = document.querySelector('.game-container'); const rect = el.getBoundingClientRect(); const scrollTop = window.pageYOffset || document.documentElement.scrollTop; window.scrollTo({top: scrollTop + rect.top - 10, behavior: 'smooth'});})()">
          <span class="cta-button-text">Play Now</span>
          <span class="cta-button-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 4L12 20M12 20L18 14M12 20L6 14" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
        </button>
      </div>
    </section>
    
    <!-- Game Container -->
    <div class="game-container">
      <!-- Left Controls Card -->
      <div class="game-controls-card">
        <h3>
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 5H7C5.89543 5 5 5.89543 5 7V9M9 19H7C5.89543 19 5 18.1046 5 17V15M15 5H17C18.1046 5 19 5.89543 19 7V9M15 19H17C18.1046 19 19 18.1046 19 17V15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M12 8V16M12 16L9 13M12 16L15 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          How to Play
        </h3>
        
        <div class="control-item">
          <div class="control-label">
            <div class="control-icon">‚Üê</div>
            <div class="control-key">Left Arrow</div>
          </div>
          <div class="control-desc">Move character left</div>
        </div>
        
        <div class="control-item">
          <div class="control-label">
            <div class="control-icon">‚Üí</div>
            <div class="control-key">Right Arrow</div>
          </div>
          <div class="control-desc">Move character right</div>
        </div>
        
        <div class="control-item">
          <div class="control-label">
            <div class="control-icon">‚éµ</div>
            <div class="control-key">Space / Enter</div>
          </div>
          <div class="control-desc">Start, pause, or restart game</div>
        </div>
        
        <div class="control-item">
          <div class="control-label">
            <div class="control-icon">üëÜ</div>
            <div class="control-key">Touch (Mobile)</div>
          </div>
          <div class="control-desc">Tap left/right side to move</div>
        </div>
      </div>
      
      <!-- Game Center -->
      <div class="game-center">
        <!-- Mobile Touch Hint (only visible on mobile) -->
        <div class="mobile-touch-hint">
          <div class="touch-hint-content">
            <span class="touch-icon">üëÜ</span>
            <span class="touch-text">Tap left or right side to move</span>
          </div>
        </div>
        
        <div id="game-root">
          <div class="loading">
            <div class="loading-spinner"></div>
            <p>Loading arcade game resources...</p>
          </div>
        </div>
        
        <div class="game-description">
          This browser arcade game challenges players to survive as platforms fall endlessly. Use simple controls to move left and right and land safely as the speed increases. Master the timing, avoid obstacles, and see how long you can survive in this fast-paced free online falling game.
        </div>
      </div>
      
      <!-- Right Tips Card -->
      <div class="game-controls-card">
        <h3>
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Game Tips
        </h3>
        
        <div class="control-item">
          <div class="control-label">
            <div class="control-icon" style="background: #22c55e;">üéØ</div>
            <div class="control-key">Goal</div>
          </div>
          <div class="control-desc">Survive as long as possible by landing on platforms</div>
        </div>
        
        <div class="control-item">
          <div class="control-label">
            <div class="control-icon" style="background: #eab308;">‚ö†Ô∏è</div>
            <div class="control-key">Avoid</div>
          </div>
          <div class="control-desc">Red spike platforms damage you. Fake platforms disappear!</div>
        </div>
        
        <div class="control-item">
          <div class="control-label">
            <div class="control-icon" style="background: #8b5cf6;">üöÄ</div>
            <div class="control-key">Power-ups</div>
          </div>
          <div class="control-desc">Blue springs launch you up. Conveyors move you sideways</div>
        </div>
        
        <div class="control-item">
          <div class="control-label">
            <div class="control-icon" style="background: #ef4444;">üíî</div>
            <div class="control-key">Health</div>
          </div>
          <div class="control-desc">You have 10 HP. Don't let it reach zero!</div>
        </div>
      </div>
    </div>
    
    <!-- What Is This Game -->
    <section class="content-section">
      <h2>Free Online Endless Falling Game - Arcade Survival</h2>
      <p>
        <strong>DownDownDown</strong> is a <strong>free-to-play endless falling game</strong> where the goal is simple: survive as long as possible. This <strong>arcade survival platformer</strong> features platforms that appear and disappear as you descend through an endless shaft, requiring quick reflexes, precise movement, and strategic thinking. As an <strong>instant play browser game</strong>, it combines classic arcade-style mechanics with modern HTML5 technology - <strong>no download, no installation, no registration needed</strong>.
      </p>
      <p>
        This <strong>reflex-based falling game</strong> draws inspiration from traditional survival platformers and arcade classics, where one mistake can end your run. As you progress through floors, the game dynamically adjusts difficulty - increasing speed, introducing trickier platform combinations, and spawning more challenging obstacles. It's the perfect <strong>free falling game</strong> for players who love competitive challenges, want to test their reaction time, and enjoy endless vertical gameplay that's easy to start but hard to master.
      </p>
      <p>
        Whether you're looking for a <strong>quick gaming session</strong> during breaks or an <strong>addictive arcade experience</strong> to master over time, this free online platform game delivers. Play on your desktop PC, laptop, tablet, or smartphone - the game automatically adapts to your device. With simple arrow key or touch controls, anyone can start playing immediately, but achieving high scores requires practice, pattern recognition, and strategic platform selection.
      </p>
      
      <div class="features-grid">
        <div class="feature-item">
          <h3>üÜì 100% Free Forever</h3>
          <p>Completely free arcade game - no hidden costs, no premium features. Play unlimited times without paying a cent!</p>
        </div>
        <div class="feature-item">
          <h3>‚ö° Instant Play - Zero Wait</h3>
          <p>No download or installation required! No account signup needed! Click and start playing immediately in your browser.</p>
        </div>
        <div class="feature-item">
          <h3>üì± Works on All Devices</h3>
          <p>Play on desktop PC, Mac, smartphone, or tablet. Touch controls for mobile, keyboard for desktop. Same game everywhere!</p>
        </div>
        <div class="feature-item">
          <h3>üéÆ Classic Arcade Action</h3>
          <p>Fast-paced vertical falling platformer gameplay with increasing difficulty and endless challenge</p>
        </div>
        <div class="feature-item">
          <h3>üïπÔ∏è Easy to Learn</h3>
          <p>Simple controls anyone can master - just use arrow keys or tap. But achieving high scores? That's the challenge!</p>
        </div>
        <div class="feature-item">
          <h3>üåê Browser-Based Gaming</h3>
          <p>Modern HTML5 game technology means smooth 60 FPS performance right in your web browser. No plugins needed!</p>
        </div>
      </div>
    </section>
    
    <!-- How to Play -->
    <section class="content-section">
      <h2>How to Play This Free Falling Game</h2>
      <p>
        Getting started with this <strong>arcade survival game</strong> is easy. Master these simple controls and you'll be dropping down floors in no time. This <strong>endless falling game</strong> challenges your reflexes as platforms rush toward you:
      </p>
      
      <h3 style="color: #60a5fa; font-size: 18px; margin: 24px 0 12px;">Controls</h3>
      <ul>
        <li><strong>Desktop:</strong> Use arrow keys (‚Üê ‚Üí) to move left and right</li>
        <li><strong>Mobile:</strong> Tap the left or right side of the screen to move</li>
        <li><strong>Start/Restart:</strong> Press Space, Enter, or tap the button</li>
        <li><strong>Pause:</strong> Press Space or Enter during gameplay</li>
      </ul>
      
      <h3 style="color: #60a5fa; font-size: 18px; margin: 24px 0 12px;">Gameplay Tips</h3>
      <ol>
        <li><strong>Land on platforms</strong> to slow your fall and avoid taking damage</li>
        <li><strong>Watch for platform types</strong> - some help, some hurt, some disappear</li>
        <li><strong>The game speeds up</strong> as you survive longer floors</li>
        <li><strong>One mistake can end your run</strong> - stay focused!</li>
        <li><strong>Beat your high score</strong> and compete with yourself</li>
      </ol>
    </section>
    
    <!-- Platform Special Features -->
    <section class="content-section">
      <h2>Platform Features & Mechanics in Endless Falling Games</h2>
      <p>
        Understanding each platform type's unique behavior is crucial for <strong>mastering this arcade survival platformer</strong>. In <strong>endless falling games</strong>, platform recognition becomes critical as they rush toward you. Here's everything you need to know:
      </p>
      
      <div class="features-grid">
        <div class="feature-item">
          <h3>üîµ Normal Platforms</h3>
          <p><strong>Your Foundation:</strong> Reliable, safe landing zones. These blue platforms are your primary targets. They appear most frequently and provide stable footing. Strategy: Use these to reposition and plan your next move.</p>
        </div>
        
        <div class="feature-item">
          <h3>üü¢ Spring Platforms</h3>
          <p><strong>Velocity Boost:</strong> Launch you upward with extra force. Perfect when platforms are sparse below. Timing tip: Hold your position while on spring platforms to maximize height. Can save you in difficult situations!</p>
        </div>
        
        <div class="feature-item">
          <h3>üü£ Conveyor Platforms</h3>
          <p><strong>Horizontal Force:</strong> Automatically push you left or right. Direction indicated by arrows. Pro tip: Counter the movement with opposite arrow key for precise positioning. Essential skill for late-game survival.</p>
        </div>
        
        <div class="feature-item">
          <h3>üî¥ Spike Platforms</h3>
          <p><strong>High Risk, High Reward:</strong> Deal 4 HP damage on landing but prevent falling. Late-game strategy: Sometimes taking damage is better than missing platforms entirely. Health management is key.</p>
        </div>
        
        <div class="feature-item">
          <h3>üëª Fake Platforms</h3>
          <p><strong>Disappearing Act:</strong> Semi-transparent platforms that vanish after brief contact. Requires quick reflexes! Visual cue: Look for transparency. Advanced players use these as temporary stepping stones.</p>
        </div>
        
        <div class="feature-item">
          <h3>‚ö° Speed Mechanics</h3>
          <p><strong>Dynamic Difficulty:</strong> Game speed increases as you progress. Every 20 floors trigger a speed boost. Platform spawn rate adjusts. This endless arcade game keeps you on your toes!</p>
        </div>
      </div>
      
      <h3 style="color: #60a5fa; font-size: 18px; margin: 24px 0 12px;">Scoring System</h3>
      <p>
        Your score in this <strong>browser arcade game</strong> is based on floors survived. Every 5 platforms descended counts as 1 floor. The scoring formula is simple but challenging to maximize:
      </p>
      <ul>
        <li><strong>Floor Count:</strong> Primary scoring metric - each floor = 1 point</li>
        <li><strong>Platform Sequence:</strong> Platforms are numbered sequentially from game start</li>
        <li><strong>Survival Time:</strong> Longer runs = higher scores naturally</li>
        <li><strong>No Combo System:</strong> Pure survival focus - consistent play is rewarded</li>
      </ul>
    </section>
    
    <!-- Game Strategy & Tips -->
    <section class="content-section">
      <h2>Winning Strategies for Arcade Survival Games</h2>
      <p>
        Master these <strong>proven strategies</strong> to improve your survival time and achieve higher scores in this <strong>free falling game</strong>. <strong>Endless falling games</strong> require unique skills compared to traditional platformers:
      </p>
      
      <h3 style="color: #60a5fa; font-size: 18px; margin: 24px 0 12px;">Beginner Tips for Survival</h3>
      <ul>
        <li><strong>Stay centered:</strong> Position yourself in the middle when possible - gives you more reaction time as platforms rush upward</li>
        <li><strong>Look ahead (or down!):</strong> In <strong>falling games</strong>, scan platforms below your character - anticipate where you'll land next</li>
        <li><strong>Rhythm matters:</strong> This <strong>reflex-based arcade game</strong> has a natural flow - find your rhythm with the vertical movement</li>
        <li><strong>Practice patience:</strong> You don't always need to move - sometimes staying still is best as platforms come to you</li>
        <li><strong>Control your descent:</strong> Unlike traditional platform games, you're managing fall velocity, not jump height</li>
      </ul>
      
      <h3 style="color: #60a5fa; font-size: 18px; margin: 24px 0 12px;">Advanced Techniques</h3>
      <ul>
        <li><strong>Platform prioritization:</strong> Target normal platforms first, use special platforms strategically</li>
        <li><strong>Velocity control:</strong> Use spring platforms to gain height when platforms are sparse</li>
        <li><strong>Conveyor mastery:</strong> Learn to counter conveyor platform momentum</li>
        <li><strong>Risk assessment:</strong> Sometimes taking damage on a spike platform is better than missing entirely</li>
        <li><strong>Pattern recognition:</strong> Platform generation follows patterns - learn to predict</li>
      </ul>
      
      <h3 style="color: #60a5fa; font-size: 18px; margin: 24px 0 12px;">High Score Strategies</h3>
      <p>
        Competitive players aiming for leaderboard positions should focus on:
      </p>
      <ul>
        <li><strong>Consistency over speed:</strong> Survival time matters more than flashy moves</li>
        <li><strong>Health management:</strong> Preserve your 10 HP - every point counts in later stages</li>
        <li><strong>Difficulty scaling awareness:</strong> The game gets harder every 20 floors - prepare mentally</li>
        <li><strong>Focus sessions:</strong> Peak performance requires concentration - minimize distractions</li>
      </ul>
    </section>
    
    <!-- Technical Features -->
    <section class="content-section">
      <h2>Why This Free Browser Game Works So Well</h2>
      <p>
        <strong>DownDownDown</strong> is built with modern web technology to deliver a smooth, responsive <strong>arcade gaming</strong> experience without requiring downloads or plugins. Here's what makes this <strong>instant play falling game</strong> technically superior:
      </p>
      
      <h3 style="color: #60a5fa; font-size: 18px; margin: 24px 0 12px;">üöÄ Performance Features</h3>
      <ul>
        <li><strong>HTML5 Canvas Technology:</strong> Smooth 60 FPS gameplay rendered directly in your browser</li>
        <li><strong>Optimized Game Engine:</strong> Lightweight code ensures fast loading and responsive controls</li>
        <li><strong>Efficient Rendering:</strong> Platform generation and collision detection optimized for performance</li>
        <li><strong>No External Dependencies:</strong> Self-contained game runs entirely in-browser</li>
      </ul>
      
      <h3 style="color: #60a5fa; font-size: 18px; margin: 24px 0 12px;">üì± Cross-Platform Compatibility</h3>
      <ul>
        <li><strong>Universal Browser Support:</strong> Works on Chrome, Firefox, Safari, Edge - no plugins needed</li>
        <li><strong>Responsive Design:</strong> Automatically adapts to your screen size and orientation</li>
        <li><strong>Touch Controls:</strong> Native touch support for smartphones and tablets</li>
        <li><strong>Keyboard Controls:</strong> Precise arrow key controls for desktop players</li>
        <li><strong>No Installation Required:</strong> Zero download time - start playing immediately</li>
      </ul>
      
      <h3 style="color: #60a5fa; font-size: 18px; margin: 24px 0 12px;">üéÆ User Experience Advantages</h3>
      <ul>
        <li><strong>Instant Access:</strong> No registration, no account creation, no email required</li>
        <li><strong>Save Your Progress:</strong> High scores saved locally in your browser</li>
        <li><strong>Lightweight:</strong> Minimal bandwidth usage - perfect for mobile data</li>
        <li><strong>Always Available:</strong> Play anywhere with internet access</li>
        <li><strong>Privacy-Focused:</strong> No tracking, no data collection</li>
      </ul>
      
      <h3 style="color: #60a5fa; font-size: 18px; margin: 24px 0 12px;">üîß Technical Specifications</h3>
      <p>
        For technically curious players, here's what powers this <strong>free arcade platform game</strong>:
      </p>
      <ul>
        <li><strong>Frontend Framework:</strong> Lightweight Preact for efficient UI rendering</li>
        <li><strong>Graphics:</strong> HTML5 Canvas API with hardware acceleration support</li>
        <li><strong>Game Logic:</strong> Custom JavaScript game engine with 60 FPS target</li>
        <li><strong>Physics:</strong> Simple gravity simulation with platform collision detection</li>
        <li><strong>State Management:</strong> Efficient game state handling for smooth gameplay</li>
        <li><strong>Audio:</strong> Web Audio API for sound effects (optional)</li>
      </ul>
    </section>
    
    <!-- Why People Love -->
    <section class="content-section">
      <h2>Why Endless Falling Games Are So Addictive</h2>
      <p>
        <strong>Endless falling games</strong> like DownDownDown tap into what makes classic arcade games timeless: <strong>simple rules, endless challenge</strong>. Here's why players keep coming back to this <strong>free arcade survival game</strong>:
      </p>
      
      <p>
        <strong>Instant gratification:</strong> Jump in and play within seconds. No tutorials, no complicated mechanics - just pure arcade action. This <strong>reflex-based game</strong> respects your time while delivering maximum excitement.
      </p>
      
      <p>
        <strong>High replay value:</strong> Every run is different. Platform patterns, obstacle placement, and increasing difficulty ensure that no two games feel the same. The "just one more try" factor is real in this <strong>addictive falling game</strong>.
      </p>
      
      <p>
        <strong>Quick sessions, big challenges:</strong> Perfect for short breaks or extended gaming sessions. Each run can last anywhere from seconds to minutes, making it ideal for any schedule. The fast failure and instant restart keep the momentum going in this <strong>platform survival game</strong>.
      </p>
      
      <p>
        <strong>Classic arcade spirit:</strong> This <strong>free online falling game</strong> captures the essence of 80s and 90s arcade halls - pure skill-based gameplay where practice makes perfect. No pay-to-win mechanics, no grinding - just you versus the falling platforms.
      </p>
    </section>
    
    <!-- FAQ -->
    <section class="content-section">
      <h2>Frequently Asked Questions</h2>
      
      <div class="faq-item">
        <h3>What is a falling game?</h3>
        <p>
          A <strong>falling game</strong> is a subgenre of platform games where players continuously descend through a vertical space. Unlike traditional platform games where you jump upward, <strong>endless falling games</strong> challenge you to control your fall and land on platforms rushing toward you. DownDownDown exemplifies this genre by combining fast-paced vertical movement with survival mechanics, requiring split-second reflexes and strategic positioning as platforms appear from below.
        </p>
      </div>
      
      <div class="faq-item">
        <h3>How is this different from classic platform arcade games?</h3>
        <p>
          While classic platform arcade games focus on jumping upward and climbing, <strong>free falling games</strong> like DownDownDown reverse this mechanic entirely. Instead of fighting gravity to climb, you're managing your descent through an endless shaft. This creates unique gameplay where your reaction time is tested differently - you must quickly assess and target platforms appearing below, not above. The <strong>falling platformer</strong> genre emphasizes velocity control and prediction rather than jumping precision.
        </p>
      </div>
      
      <div class="faq-item">
        <h3>Is this similar to classic survival games?</h3>
        <p>
          Yes! DownDownDown draws inspiration from classic <strong>arcade survival games</strong>. Like those classics, success depends on endurance, pattern recognition, and maintaining composure as speed increases. However, this <strong>reflex-based game</strong> modernizes the genre with diverse platform types, dynamic difficulty scaling, and browser-based accessibility. It captures the spirit of arcade survival games while adding contemporary gameplay mechanics that keep each run fresh and challenging.
        </p>
      </div>
      
      <div class="faq-item">
        <h3>Is this arcade game free to play?</h3>
        <p>
          Yes! DownDownDown is completely free to play. No registration, no download, and no hidden fees. Just open your browser and start playing this <strong>free online falling game</strong> instantly.
        </p>
      </div>
      
      <div class="faq-item">
        <h3>Can I play this arcade game on mobile?</h3>
        <p>
          Absolutely! This <strong>arcade survival game</strong> works perfectly on mobile devices. The game features touch controls optimized for smartphones and tablets, as well as keyboard controls for desktop players. Play anywhere, anytime.
        </p>
      </div>
      
      <div class="faq-item">
        <h3>What kind of arcade game is DownDownDown?</h3>
        <p>
          DownDownDown is an <strong>endless falling arcade platform survival game</strong> inspired by classic arcade mechanics. Players must navigate through endlessly falling platforms, avoiding obstacles and surviving as long as possible in a vertical shaft. It combines elements of <strong>reflex-based games</strong> with arcade survival gameplay.
        </p>
      </div>
      
      <div class="faq-item">
        <h3>Do I need to download this game?</h3>
        <p>
          No download required! DownDownDown is a browser-based <strong>free falling game</strong> that runs directly in your web browser. Simply visit the website and click play to start this <strong>endless falling game</strong> immediately. Works on Chrome, Firefox, Safari, and Edge.
        </p>
      </div>
      
      <div class="faq-item">
        <h3>How do I improve my score in this arcade platform game?</h3>
        <p>
          Practice makes perfect! Focus on learning platform patterns, memorize which platforms are safe, and develop quick reflexes for this <strong>arcade survival game</strong>. The key is staying calm as the falling speed increases. Each run teaches you something new about navigating vertical arcade challenges.
        </p>
      </div>
      
      <div class="faq-item">
        <h3>Is this game similar to classic arcade games?</h3>
        <p>
          Yes! This <strong>falling arcade game</strong> is inspired by classic arcade survival mechanics from the golden age of gaming. It features the same simple-yet-challenging gameplay, quick restarts, and score-chasing excitement that made arcade games legendary, adapted for modern <strong>browser gameplay</strong>.
        </p>
      </div>
    </section>
  </div>
  
  <!-- Footer -->
  <footer>
    <p>
      DownDownDown - A Browser Arcade Platform Game<br>
      Made with ‚ù§Ô∏è for arcade game fans everywhere
    </p>
    <p style="margin-top: 16px;">
      <a href="index.html">Home</a> ‚Ä¢ 
      <a href="about.html">About</a> ‚Ä¢ 
      <a href="privacy-policy.html">Privacy Policy</a> ‚Ä¢ 
      <a href="terms-of-service.html">Terms of Service</a> ‚Ä¢ 
      <a href="contact.html">Contact</a>
    </p>
    <p style="margin-top: 12px; font-size: 12px;">
      ¬© 2025 DownDownDown.live - All rights reserved
    </p>
  </footer>

  <script type="module">
    import Downfloor from './game-engine.js';
    
    // Difficulty configuration generation strategy
    // We use a linear interpolation strategy to generate a smooth difficulty curve
    // from level 1 to 100, instead of hardcoded steps.
    const generateLevelConfig = function() {
      // Keyframes for difficulty scaling
      // floorChances: [Normal, Fake, Spike, LeftConveyor, RightConveyor, Spring]
      const keyframes = [
        {
          level: 1,
          floorChances: [10, 3, 1, 1, 1, 2],
          speedBoost: 1.0 // Start at base speed
        },
        {
          level: 5,
          floorChances: [10, 3, 1, 1, 1, 2],
          speedBoost: 1.15 // Warm up
        },
        {
          level: 20,
          floorChances: [7, 3, 1, 1, 1, 2],
          speedBoost: 1.3 // Intermediate
        },
        {
          level: 50,
          floorChances: [5, 4, 2, 2, 2, 3],
          speedBoost: 1.8 // Hard
        },
        {
          level: 85,
          floorChances: [3, 5, 3, 3, 3, 3],
          speedBoost: 2.2 // Nightmare
        },
        {
          level: 100,
          floorChances: [2, 6, 4, 4, 4, 4],
          speedBoost: 2.5 // Hell
        }
      ];

      // Linear interpolation function
      function lerp(start, end, t) {
        return start + (end - start) * t;
      }

      const generatedConfig = [];
      
      // Generate config for levels 1 to 100
      for (let floor = 1; floor <= 100; floor++) {
        let startFrame, endFrame;
        
        // Find the appropriate keyframes for the current floor
        for (let i = 0; i < keyframes.length - 1; i++) {
          if (floor >= keyframes[i].level && floor <= keyframes[i+1].level) {
            startFrame = keyframes[i];
            endFrame = keyframes[i+1];
            break;
          }
        }
        
        // Safety check
        if (!startFrame || !endFrame) continue;

        // Calculate progress between frames (0.0 to 1.0)
        const progress = (floor - startFrame.level) / (endFrame.level - startFrame.level);
        
        // Interpolate floor chances
        const currentFloorChances = startFrame.floorChances.map((chance, index) => {
          const endChance = endFrame.floorChances[index];
          return Math.round(lerp(chance, endChance, progress));
        });
        
        // Interpolate speed boost
        const currentSpeedBoost = lerp(startFrame.speedBoost, endFrame.speedBoost, progress);
        
        generatedConfig.push({
          level_threshold: floor,
          floor_chances: currentFloorChances,
          speed_boost: Number(currentSpeedBoost.toFixed(2))
        });
      }
      
      return generatedConfig;
    };

    // Game configuration
    const config = {
      root: 'https://pub-c44b3287f57046a7be27e98d86344a67.r2.dev/ddd/',
      
      // Difficulty configuration - Generated dynamically
      levelConfig: generateLevelConfig(),
      
      // Internationalization
      i18n: {
        life: "HP:",
        score: "Floor:",
        soundOn: "Sound: ON",
        soundOff: "Sound: OFF",
        start: "Start Game",
        gameOver: "Game Over",
        restart: "Try Again",
        continue: "Continue",
        keyHint: "(Space / Enter)",
        best: "BEST:",
        reset: "RESET",
        resetConfirm: "Reset your best score?",
        confirm: "Confirm",
        cancel: "Cancel"
      }
    };
    
    // Theme Toggle Functionality
    (function() {
      const themeToggle = document.getElementById('themeToggle');
      const themeIcon = themeToggle.querySelector('.theme-toggle-icon');
      const themeText = themeToggle.querySelector('.theme-toggle-text');
      
      // Check for saved theme preference or default to dark
      const currentTheme = localStorage.getItem('theme') || 'dark';
      
      // Apply saved theme on page load
      if (currentTheme === 'light') {
        document.body.classList.add('light-theme');
        themeIcon.textContent = '‚òÄÔ∏è';
        themeText.textContent = 'Light';
      }
      
      // Toggle theme on button click
      themeToggle.addEventListener('click', function() {
        document.body.classList.toggle('light-theme');
        
        if (document.body.classList.contains('light-theme')) {
          // Switch to light theme
          themeIcon.textContent = '‚òÄÔ∏è';
          themeText.textContent = 'Light';
          localStorage.setItem('theme', 'light');
        } else {
          // Switch to dark theme
          themeIcon.textContent = 'üåô';
          themeText.textContent = 'Dark';
          localStorage.setItem('theme', 'dark');
        }
      });
    })();
    
    // Initialize game
    Downfloor.init('#game-root', config);
  </script>
</body>
</html>
